# Grep Utility

Упрощённый аналог UNIX-утилиты grep, реализованный на языке Go

## Возможности

Программа поддерживает все основные флаги GNU grep:

### Обязательные флаги:
- `-i` — игнорировать регистр при поиске
- `-v` — инвертировать поиск (выводить строки, НЕ содержащие паттерн)
- `-n` — выводить номера строк
- `-c` — выводить только количество совпадений

### Дополнительные флаги:
- `-F` — искать фиксированную строку (не регулярное выражение)
- `-A N` — выводить N строк после совпадения
- `-B N` — выводить N строк до совпадения
- `-C N` — выводить N строк до и после совпадения

## Сборка и запуск

```bash
# Сборка программы
go build -o grep cmd/main.go
```

```bash
# Запуск с базовым поиском
./grep "pattern" input.txt

# Запуск демонстрации всех возможностей
chmod +x demo.sh  # Сделать скрипт исполняемым (только при первом запуске)
./demo.sh
```

После сборки программа готова к использованию. Исполняемый файл `grep` можно использовать как стандартную утилиту командной строки.

## Демонстрация

Для быстрого ознакомления со всеми возможностями программы запустите демо-скрипт:

```bash
./demo.sh
```

Этот скрипт покажет все основные функции поиска с примерами:
- Простой поиск по паттерну
- Поиск с игнорированием регистра
- Инвертированный поиск
- Поиск с номерами строк
- Подсчет количества совпадений
- Поиск с контекстом (до/после/вокруг)
- Поиск с фиксированной строкой
- Регулярные выражения
- Комбинации флагов
- Работа с файлами данных

## Тестирование

```bash
# Запуск всех тестов
go test

# Запуск тестов с подробным выводом
go test -v

# Проверка кода
go vet

# Обновление зависимостей
go mod tidy
```

## Структура проекта

```
l12/
├── cmd/
│   └── main.go          # Основной файл программы
├── internal/
│   ├── types.go         # Структуры и типы данных
│   ├── line_utils.go    # Функции обработки строк
│   ├── grep/
│   │   ├── grep.go      # Основная логика grep
│   │   └── grep_test.go # Тесты grep
│   └── comparison.go    # Функции сравнения
├── data/
│   └── test_data.txt    # Тестовые данные
├── grep                 # Скомпилированный исполняемый файл
├── demo.sh              # Демонстрационный скрипт
├── go.mod               # Модуль Go
└── README.md           # Документация
```

## Особенности реализации

1. **Эффективная обработка больших файлов** — программа читает данные построчно
2. **Поддержка комбинаций флагов** — все флаги работают совместно
3. **Корректная обработка ошибок** — программа выводит понятные сообщения об ошибках
4. **Модульная архитектура** — код разделен на логические модули:
- `internal/types.go` — структуры и типы данных
- `internal/line_utils.go` — функции обработки строк
- `internal/grep/grep.go` — основная логика поиска
- `cmd/main.go` — обработка аргументов командной строки

## Ограничения

- Поддерживаются только основные регулярные выражения
- Контекстные флаги (-A, -B, -C) работают только с положительными числами
- Размер буфера для контекста ограничен
- Поддерживается только UTF-8 кодировка 