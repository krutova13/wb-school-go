# Telnet Client

Простой telnet-клиент, реализованный на Go.

## Описание

Telnet-клиент позволяет устанавливать TCP-соединения с удаленными серверами и взаимодействовать с ними через стандартный ввод-вывод.

## Возможности

- Установка TCP-соединения с указанным хостом и портом
- Настраиваемый таймаут соединения (по умолчанию 10 секунд)
- Двунаправленная передача данных между STDIN/STDOUT и сокетом
- Обработка сигналов завершения (Ctrl+C, Ctrl+D)
- Конкурентная обработка ввода-вывода в отдельных горутинах
- Обработка ошибок и логирование

### Структура проекта

```
lvl2/l17/
├── cmd/
│   └── main.go                 # Точка входа в приложение
├── internal/
│   ├── types/
│   │   └── types.go           # Интерфейсы и типы
│   ├── parser/
│   │   ├── parser.go          # Парсинг аргументов командной строки
│   │   └── parser_test.go     # Тесты парсера
│   ├── connection/
│   │   ├── connection.go      # Управление TCP-соединением
│   │   └── connection_test.go # Тесты соединения
│   ├── io/
│   │   ├── io_handler.go      # Обработка ввода-вывода
│   │   └── io_handler_test.go # Тесты ввода-вывода
│   ├── logger/
│   │   └── logger.go          # Логирование
│   ├── error_handler/
│   │   └── error_handler.go   # Обработка ошибок
│   └── telnet/
│       ├── telnet.go          # Основной telnet-клиент
│       └── telnet_test.go     # Тесты клиента
├── go.mod                     # Зависимости модуля
├── go.sum                     # Хеши зависимостей
└── README.md                  # Документация
```

## Использование

### Сборка

```bash
cd lvl2/l17
go build -o telnet cmd/main.go
```

### Запуск

```bash
# Базовое использование
./telnet localhost 8080

# С настраиваемым таймаутом
./telnet --timeout=5s localhost 8080

# Подключение к SMTP серверу
./telnet smtp.gmail.com 25

# Подключение к echo серверу
./telnet echo.websocket.org 80
```

### Параметры

- `host` - адрес хоста для подключения (обязательный)
- `port` - порт для подключения (обязательный)
- `--timeout` - таймаут соединения (по умолчанию 10 секунд)

## Тестирование

```bash
# Запуск всех тестов
go test ./...

# Запуск тестов с покрытием
go test -cover ./...

# Запуск тестов конкретного пакета
go test ./internal/parser
go test ./internal/connection
go test ./internal/io
go test ./internal/telnet
```

## Примеры использования

### Подключение к echo серверу

```bash
./telnet echo.websocket.org 80
GET / HTTP/1.1
Host: echo.websocket.org

```

### Подключение к SMTP серверу

```bash
./telnet smtp.gmail.com 25
EHLO localhost
QUIT
```

### Тестирование с netcat

В одном терминале запустите сервер:
```bash
nc -l 8080
```

В другом терминале подключитесь к нему:
```bash
./telnet localhost 8080
```

## Особенности реализации

1. **Конкурентность**: Ввод и вывод обрабатываются в отдельных горутинах
2. **Безопасность**: Использование мьютексов для предотвращения гонок данных
3. **Обработка ошибок**: Централизованная обработка ошибок через интерфейсы
4. **Логирование**: Структурированное логирование с возможностью отключения
5. **Тестируемость**: Моки и интерфейсы для легкого тестирования
6. **Graceful shutdown**: Корректное завершение при получении сигналов
